this.createjs=this.createjs||{},function(){"use strict";var t=function(t,r,a){this.initialize(t,r,a)},r=t.prototype=new createjs.Filter;r.initialize=function(t,r,a){(isNaN(t)||0>t)&&(t=0),this.blurX=0|t,(isNaN(r)||0>r)&&(r=0),this.blurY=0|r,(isNaN(a)||1>a)&&(a=1),this.quality=0|a},r.blurX=0,r.blurY=0,r.quality=1,r.mul_table=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],r.shg_table=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],r.getBounds=function(){var t=.5*Math.pow(this.quality,.6);return new createjs.Rectangle(-this.blurX*t,-this.blurY*t,2*this.blurX*t,2*this.blurY*t)},r.applyFilter=function(t,r,a,e,i,n,l,u){n=n||t,null==l&&(l=r),null==u&&(u=a);try{var s=t.getImageData(r,a,e,i)}catch(b){return!1}var h=this.blurX/2;if(isNaN(h)||0>h)return!1;h|=0;var f=this.blurY/2;if(isNaN(f)||0>f)return!1;if(f|=0,0==h&&0==f)return!1;var o=this.quality;(isNaN(o)||1>o)&&(o=1),o|=0,o>3&&(o=3),1>o&&(o=1);var r,a,g,c,x,N,v,y,p,X,Y,_,j,m,q,w=s.data,F=h+h+1,B=f+f+1,d=e-1,z=i-1,D=h+1,I=f+1,M={r:0,b:0,g:0,a:0,next:null},R=M;for(g=1;F>g;g++)if(R=R.next={r:0,b:0,g:0,a:0,next:null},g==D);R.next=M;var S={r:0,b:0,g:0,a:0,next:null},k=S;for(g=1;B>g;g++)if(k=k.next={r:0,b:0,g:0,a:0,next:null},g==I);k.next=S;for(var A=null;o-->0;){v=N=0;var C=this.mul_table[h],E=this.shg_table[h];for(a=i;--a>-1;){for(y=D*(_=w[N]),p=D*(j=w[N+1]),X=D*(m=w[N+2]),Y=D*(q=w[N+3]),R=M,g=D;--g>-1;)R.r=_,R.g=j,R.b=m,R.a=q,R=R.next;for(g=1;D>g;g++)c=N+((g>d?d:g)<<2),y+=R.r=w[c],p+=R.g=w[c+1],X+=R.b=w[c+2],Y+=R.a=w[c+3],R=R.next;for(A=M,r=0;e>r;r++)w[N++]=y*C>>>E,w[N++]=p*C>>>E,w[N++]=X*C>>>E,w[N++]=Y*C>>>E,c=v+((c=r+h+1)<d?c:d)<<2,y-=A.r-(A.r=w[c]),p-=A.g-(A.g=w[c+1]),X-=A.b-(A.b=w[c+2]),Y-=A.a-(A.a=w[c+3]),A=A.next;v+=e}for(C=this.mul_table[f],E=this.shg_table[f],r=0;e>r;r++){for(N=r<<2,y=I*(_=w[N]),p=I*(j=w[N+1]),X=I*(m=w[N+2]),Y=I*(q=w[N+3]),k=S,g=0;I>g;g++)k.r=_,k.g=j,k.b=m,k.a=q,k=k.next;for(x=e,g=1;f>=g;g++)N=x+r<<2,y+=k.r=w[N],p+=k.g=w[N+1],X+=k.b=w[N+2],Y+=k.a=w[N+3],k=k.next,z>g&&(x+=e);if(N=r,A=S,o>0)for(a=0;i>a;a++)c=N<<2,w[c+3]=q=Y*C>>>E,q>0?(w[c]=y*C>>>E,w[c+1]=p*C>>>E,w[c+2]=X*C>>>E):w[c]=w[c+1]=w[c+2]=0,c=r+((c=a+I)<z?c:z)*e<<2,y-=A.r-(A.r=w[c]),p-=A.g-(A.g=w[c+1]),X-=A.b-(A.b=w[c+2]),Y-=A.a-(A.a=w[c+3]),A=A.next,N+=e;else for(a=0;i>a;a++)c=N<<2,w[c+3]=q=Y*C>>>E,q>0?(q=255/q,w[c]=(y*C>>>E)*q,w[c+1]=(p*C>>>E)*q,w[c+2]=(X*C>>>E)*q):w[c]=w[c+1]=w[c+2]=0,c=r+((c=a+I)<z?c:z)*e<<2,y-=A.r-(A.r=w[c]),p-=A.g-(A.g=w[c+1]),X-=A.b-(A.b=w[c+2]),Y-=A.a-(A.a=w[c+3]),A=A.next,N+=e}}return n.putImageData(s,l,u),!0},r.clone=function(){return new t(this.blurX,this.blurY,this.quality)},r.toString=function(){return"[BlurFilter]"},createjs.BlurFilter=t}();