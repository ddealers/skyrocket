<!DOCTYPE html>
<html lang="es">
    <head>
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
        <meta charset="utf-8" />
        <title>U4A4</title>
        <link href='http://fonts.googleapis.com/css?family=Quicksand:700' rel='stylesheet' type='text/css'>
        <script type="text/javascript" src="js/FontLoader.js"></script>
      
		<link href='http://fonts.googleapis.com/css?family=Dosis' rel='stylesheet' type='text/css'>
        <style>
            *{margin: 0; padding: 0}
        </style>
    </head>
    <body>
        <canvas id="oda" data-loadercolor='#005da2'></canvas>
        <div id="loading">loading fonts</div>
        <div id="fontsContainer">
            <div style="font-family: 'Roboto', serif; font-style: italic;"> Doumo arigato disco roboto</div>
        </div>

        <script type="text/javascript" src="../../base/lib/jquery.min.js"></script>
        <script type="text/javascript" src="../../base/lib/TweenMax.min.js"></script>
        <script type="text/javascript" src="../../base/lib/createjs.min.js"></script>
        <script type="text/javascript" src="../../base/lib/BlurFilter.js"></script>
        <script type="text/javascript" src="../../base/scripts/dealersjs.js"></script>
        <script type="text/javascript" src="js/main.js"></script>
        <script type="text/javascript" src="../../base/scripts/app.js"></script>
        <script type="text/javascript">
            var fontsloader;
            
            var loadingElm = document.getElementById("loading"),
                fontsContainerElm = document.getElementById("fontsContainer"),
                elementsMap = {},
                fontLoader,
                fontFamiliesArray = [];
            
            // When developer tools are closed IE8 does not have console object.
            if (typeof console === "undefined") {
                console = {log: function() {}};
            }
            
            function addFonts() {
                var i, link, div, fontFamily, head = document.getElementsByTagName("head")[0];
                // For each font family create <link> in head
                for (i = 0; i < fontsContainerElm.childNodes.length - 1; i++) {
                    if (fontsContainer.childNodes[i].nodeType !== 1) continue;

                    div = fontsContainerElm.childNodes[i];
                    fontFamily = div.style.fontFamily.match(/[^'",;]+/)[0];
                    elementsMap[fontFamily] = div;
                    fontFamiliesArray.push(fontFamily);
                    
                    link = document.createElement("link");
                    link.rel = "stylesheet";
                    link.type = "text/css";
                    link.href = "http://fonts.googleapis.com/css?family=" + fontFamily + ":500,500italic";
                    head.appendChild(link);
                }
            }



            window.setTimeout(function() {
                

                addFonts();

                fontLoader = new FontLoader(fontFamiliesArray, {
                    "fontsLoaded": function(error) {
                        console.log("error:", error);
                        loadingElm.style.display = "none";
                        oda.setGame();
                        
                    },
                    "fontLoaded": function(fontFamily) {
                        console.log("font loaded: " + fontFamily + " element size: " + elementsMap[fontFamily].offsetWidth + "x" + elementsMap[fontFamily].offsetHeight);
                    }
                }, 3000);
                fontLoader.loadFonts();
                
            }, 0);
            
        </script>
    </body>
</html>